---
layout: single
title:  "index - 클러스터/비클러스터"
categories: database
tags: [index, database]
toc: true
toc_sticky : true
author_profile: false
sidebar:
    nav: "docs"
search: true
---

## 1. index란?
간단한 비유로 책 뒤에 위치하는 '찾아보기'르 들 수 있습니다. 만약 찾아보기가 없다면 한 단어를 찾을 때 책의 첫 장부터 훑어야 할 것입니다.  
찾아보기가 있다면 한번에 찾아 갈 수 있습니다.

## 2. index생성시 장단점
index를 사용하는 가장 큰 이유이자 장점은 검색속도의 향상입니다. 하지만 인덱스를 위한 추가 비용이 필요하고, INSERT, UPDATE, DELETE가 자주 발생한다면 오히려 성능이 많이 떨어집니다.

## 3. 종류
### 3.1. Clustred Index
- 테이블 당 한 개만 생성이 가능한 index 입니다.(pk처럼)
- 행 데이터를 index로 지정한 열에 맞춰서 자동 정렬합니다.
- 영어 사전과 같이 순서대로 정렬되어 있어 인덱스 자체가 책의 내용과 같습니다.(테이블 자체가 인덱스)
- 키값이 없어 중복값이 있을 수 있습니다.

테이블에 클러스터 인덱스를 적용할 때마다 해당 테이블에 정렬 작업이 수반됩니다. 클러스터 인덱스는 데이터를 가르키는 포인터가 아닌(not record) 데이터를 저장한 블록의 포인터를 저장합니다.

### 3.2. Nonclustered Index
- 테이블 당 여러 개를 생성할 수 있습니다.
- 찾아보기가 있는 책과 같은 인덱스 입니다.
- 데이터를 가르키는 포인터를 저장합니다.

### 4. index 생성
1. 인덱스는 열(column) 단위로 생성됩니다.
2. 1:1 혹은 N:1관계로 열과 인덱스를 생성할 수 있습니다.
3. 테이블 생성시 하나의 열에 Primary key를 지정하면 자동으로 클러스터형 인덱스가 생성됩니다.
4. PK를 지정하는 열에 강제로 비클러스터형 인덱스를 지정할 순 없습니다.
5. 인덱스가 자동 생성되기 위한 열의 제약 조건은 pk 또는 unique 뿐입니다.
